<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="BrushColor">
  <meta name="theme-color" content="#FF6B6B">
  <title>Brush Color for Kids</title>
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="apple-touch-icon" href="icons/apple-touch-icon.png">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- Desktop blocker -->
  <div id="desktop-blocker">
    <div class="blocker-content">
      <div class="blocker-icon">üé®</div>
      <h1>Brush Color for Kids</h1>
      <p>This coloring app is made for iPhone.</p>
      <p>Please open it on your phone!</p>
      <div class="blocker-hint">
        Scan this page's QR code or send the link to your phone.
      </div>
    </div>
  </div>

  <!-- Screen A: Image Selection -->
  <div id="screen-select" class="screen active">
    <div class="select-header">
      <div class="app-logo">üé®</div>
      <h1>Brush Color</h1>
      <p class="subtitle">Choose a coloring page!</p>
    </div>

    <div class="select-options">
      <div class="sample-grid">
        <button class="sample-btn" data-sample="assets/sample-lion.png">
          <img src="assets/sample-lion.png" alt="Lion" class="sample-thumb">
          <span>Lion</span>
        </button>
        <button class="sample-btn" data-sample="assets/sample-butterfly.png">
          <img src="assets/sample-butterfly.png" alt="Butterfly" class="sample-thumb">
          <span>Butterfly</span>
        </button>
        <button class="sample-btn" data-sample="assets/sample-house.png">
          <img src="assets/sample-house.png" alt="House" class="sample-thumb">
          <span>House</span>
        </button>
      </div>

      <div class="upload-section">
        <label class="upload-btn" for="file-input">
          <span class="upload-icon">üìÅ</span>
          <span>Upload Your Own</span>
        </label>
        <input type="file" id="file-input" accept="image/*" hidden>
      </div>
    </div>
  </div>

  <!-- Screen B: Coloring Canvas -->
  <div id="screen-canvas" class="screen">
    <div class="canvas-container" id="canvas-container">
      <canvas id="coloring-canvas"></canvas>
    </div>

    <!-- Working indicator -->
    <div id="working-indicator" class="working-indicator hidden">
      <div class="spinner"></div>
    </div>

    <!-- Bottom toolbar -->
    <div class="toolbar" id="toolbar">
      <!-- Color palette grid (2 rows of 8) -->
      <div class="palette-grid" id="palette-row">
        <!-- Row 1: 8 colors -->
        <button class="color-swatch active" data-color="#FF0000" style="background:#FF0000" title="Red"></button>
        <button class="color-swatch" data-color="#800000" style="background:#800000" title="Maroon"></button>
        <button class="color-swatch" data-color="#FFFF00" style="background:#FFFF00" title="Yellow"></button>
        <button class="color-swatch" data-color="#808000" style="background:#808000" title="Olive"></button>
        <button class="color-swatch" data-color="#00FF00" style="background:#00FF00" title="Lime"></button>
        <button class="color-swatch" data-color="#008000" style="background:#008000" title="Green"></button>
        <button class="color-swatch" data-color="#00FFFF" style="background:#00FFFF" title="Aqua"></button>
        <button class="color-swatch" data-color="#008080" style="background:#008080" title="Teal"></button>
        <!-- Row 2: 7 colors + custom picker -->
        <button class="color-swatch" data-color="#0000FF" style="background:#0000FF" title="Blue"></button>
        <button class="color-swatch" data-color="#000080" style="background:#000080" title="Navy"></button>
        <button class="color-swatch" data-color="#FF00FF" style="background:#FF00FF" title="Fuchsia"></button>
        <button class="color-swatch" data-color="#800080" style="background:#800080" title="Purple"></button>
        <button class="color-swatch" data-color="#FFFFFF" style="background:#FFFFFF" title="White"></button>
        <button class="color-swatch" data-color="#C0C0C0" style="background:#C0C0C0" title="Silver"></button>
        <button class="color-swatch" data-color="#808080" style="background:#808080" title="Gray"></button>
        <button class="color-swatch custom-color-swatch" id="custom-color-btn" title="Pick color">
          <span class="plus-icon">+</span>
        </button>
      </div>
      <input type="color" id="custom-color" value="#FF6B6B" class="hidden-color-input">

      <!-- Action buttons row -->
      <div class="action-row">
        <button class="action-btn" id="btn-eraser" title="Eraser">
          <span class="action-icon">üßπ</span>
          <span class="action-label">Eraser</span>
        </button>
        <button class="action-btn" id="btn-undo" title="Undo">
          <span class="action-icon">‚Ü©Ô∏è</span>
          <span class="action-label">Undo</span>
        </button>
        <button class="action-btn" id="btn-save" title="Save">
          <span class="action-icon">üíæ</span>
          <span class="action-label">Save</span>
        </button>
        <button class="action-btn" id="btn-reset" title="Reset">
          <span class="action-icon">üóëÔ∏è</span>
          <span class="action-label">Reset</span>
        </button>
        <button class="action-btn" id="btn-close" title="Close">
          <span class="action-icon">‚úñÔ∏è</span>
          <span class="action-label">Close</span>
        </button>
      </div>
    </div>

    <!-- Save modal (iOS guidance) -->
    <div id="save-modal" class="modal hidden">
      <div class="modal-content">
        <h2>Save Your Art!</h2>
        <p>Tap and hold the image below, then choose <strong>"Save to Photos"</strong></p>
        <img id="save-preview" alt="Your colored artwork">
        <button class="modal-close-btn" id="save-modal-close">Done</button>
      </div>
    </div>

    <!-- Reset confirm modal -->
    <div id="reset-modal" class="modal hidden">
      <div class="modal-content">
        <h2>Start Over?</h2>
        <p>This will remove all your colors.</p>
        <div class="modal-actions">
          <button class="modal-btn cancel" id="reset-cancel">Keep Coloring</button>
          <button class="modal-btn confirm" id="reset-confirm">Reset</button>
        </div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
