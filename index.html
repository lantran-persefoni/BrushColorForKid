<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="BrushColor">
  <meta name="theme-color" content="#FF6B6B">
  <title>Brush Color for Kids</title>
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="apple-touch-icon" href="icons/apple-touch-icon.png">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- Desktop blocker -->
  <div id="desktop-blocker">
    <div class="blocker-content">
      <div class="blocker-icon">üé®</div>
      <h1>Brush Color for Kids</h1>
      <p>This coloring app is made for iPhone.</p>
      <p>Please open it on your phone!</p>
      <div class="blocker-hint">
        Scan this page's QR code or send the link to your phone.
      </div>
    </div>
  </div>

  <!-- Screen A: Image Selection -->
  <div id="screen-select" class="screen active">
    <div class="select-header">
      <div class="app-logo">üé®</div>
      <h1>Brush Color</h1>
      <p class="subtitle">Choose a coloring page!</p>
    </div>

    <div class="select-options">
      <div class="sample-grid">
        <button class="sample-btn" data-sample="assets/GOAT.png">
          <img src="assets/GOAT.png" alt="Goat" class="sample-thumb">
          <span>Goat</span>
        </button>
        <button class="sample-btn" data-sample="assets/casau.jpg">
          <img src="assets/casau.jpg" alt="Castle" class="sample-thumb">
          <span>Castle</span>
        </button>
        <button class="sample-btn" data-sample="assets/seaanimals.jpg">
          <img src="assets/seaanimals.jpg" alt="Sea Animals" class="sample-thumb">
          <span>Sea Animals</span>
        </button>
        <button class="sample-btn" data-sample="assets/policecar.jpg">
          <img src="assets/policecar.jpg" alt="Police Car" class="sample-thumb">
          <span>Police Car</span>
        </button>
        <button class="sample-btn" data-sample="assets/firetruck.jpg">
          <img src="assets/firetruck.jpg" alt="Fire Truck" class="sample-thumb">
          <span>Fire Truck</span>
        </button>
        <button class="sample-btn" data-sample="assets/excavador.jpg">
          <img src="assets/excavador.jpg" alt="Excavator" class="sample-thumb">
          <span>Excavator</span>
        </button>
        <button class="sample-btn" data-sample="assets/butterfly.jpg">
          <img src="assets/butterfly.jpg" alt="Butterfly" class="sample-thumb">
          <span>Butterfly</span>
        </button>
        <button class="sample-btn" data-sample="assets/dinasor.jpg">
          <img src="assets/dinasor.jpg" alt="Dinosaur" class="sample-thumb">
          <span>Dinosaur</span>
        </button>
        <button class="sample-btn" data-sample="assets/0ctopus.jpg">
          <img src="assets/0ctopus.jpg" alt="Octopus" class="sample-thumb">
          <span>Octopus</span>
        </button>
        <button class="sample-btn" data-sample="assets/crab.jpg">
          <img src="assets/crab.jpg" alt="Crab" class="sample-thumb">
          <span>Crab</span>
        </button>
        <button class="sample-btn" data-sample="assets/orca.jpg">
          <img src="assets/orca.jpg" alt="Orca" class="sample-thumb">
          <span>Orca</span>
        </button>
        <button class="sample-btn" data-sample="assets/elephant.jpg">
          <img src="assets/elephant.jpg" alt="Elephant" class="sample-thumb">
          <span>Elephant</span>
        </button>
        <button class="sample-btn" data-sample="assets/lion.jpg">
          <img src="assets/lion.jpg" alt="Lion" class="sample-thumb">
          <span>Lion</span>
        </button>
        <button class="sample-btn" data-sample="assets/turtle.jpg">
          <img src="assets/turtle.jpg" alt="Turtle" class="sample-thumb">
          <span>Turtle</span>
        </button>
      </div>

      <div class="upload-section">
        <label class="upload-btn" for="file-input">
          <span class="upload-icon">üìÅ</span>
          <span>Upload Your Own</span>
        </label>
        <input type="file" id="file-input" accept="image/*" hidden>
      </div>
    </div>
  </div>

  <!-- Screen B: Coloring Canvas -->
  <div id="screen-canvas" class="screen">
    <div class="canvas-container" id="canvas-container">
      <canvas id="coloring-canvas"></canvas>
    </div>

    <!-- Working indicator -->
    <div id="working-indicator" class="working-indicator hidden">
      <div class="spinner"></div>
    </div>

    <!-- Bottom toolbar -->
    <div class="toolbar" id="toolbar">
      <!-- Single color picker button -->
      <div class="color-picker-row">
        <button class="single-color-btn" id="more-colors-btn" title="Choose color">
          <div class="color-indicator" id="color-indicator"></div>
          <span class="color-label">Color</span>
        </button>
      </div>

      <!-- Action buttons row -->
      <div class="action-row">
        <button class="action-btn" id="btn-eraser" title="Eraser">
          <span class="action-icon">üßπ</span>
          <span class="action-label">Eraser</span>
        </button>
        <button class="action-btn" id="btn-undo" title="Undo">
          <span class="action-icon">‚Ü©Ô∏è</span>
          <span class="action-label">Undo</span>
        </button>
        <button class="action-btn" id="btn-save" title="Save">
          <span class="action-icon">üíæ</span>
          <span class="action-label">Save</span>
        </button>
        <button class="action-btn" id="btn-reset" title="Reset">
          <span class="action-icon">üóëÔ∏è</span>
          <span class="action-label">Reset</span>
        </button>
        <button class="action-btn" id="btn-close" title="Close">
          <span class="action-icon">‚úñÔ∏è</span>
          <span class="action-label">Close</span>
        </button>
      </div>
    </div>

    <!-- Save modal (iOS guidance) -->
    <div id="save-modal" class="modal hidden">
      <div class="modal-content">
        <h2>Save Your Art!</h2>
        <p>Tap and hold the image below, then choose <strong>"Save to Photos"</strong></p>
        <img id="save-preview" alt="Your colored artwork">
        <button class="modal-close-btn" id="save-modal-close">Done</button>
      </div>
    </div>

    <!-- Reset confirm modal -->
    <div id="reset-modal" class="modal hidden">
      <div class="modal-content">
        <h2>Start Over?</h2>
        <p>This will remove all your colors.</p>
        <div class="modal-actions">
          <button class="modal-btn cancel" id="reset-cancel">Keep Coloring</button>
          <button class="modal-btn confirm" id="reset-confirm">Reset</button>
        </div>
      </div>
    </div>

    <!-- Color picker modal -->
    <div id="color-picker-modal" class="modal hidden">
      <div class="color-picker-content">
        <h2>Choose Color</h2>
        <div class="color-picker-grid">
          <!-- Basic 15 colors (no black) -->
          <button class="picker-swatch" data-color="#FF0000" style="background:#FF0000" title="Red"></button>
          <button class="picker-swatch" data-color="#800000" style="background:#800000" title="Maroon"></button>
          <button class="picker-swatch" data-color="#FFFF00" style="background:#FFFF00" title="Yellow"></button>
          <button class="picker-swatch" data-color="#808000" style="background:#808000" title="Olive"></button>
          <button class="picker-swatch" data-color="#00FF00" style="background:#00FF00" title="Lime"></button>
          <button class="picker-swatch" data-color="#008000" style="background:#008000" title="Green"></button>
          <button class="picker-swatch" data-color="#00FFFF" style="background:#00FFFF" title="Aqua"></button>
          <button class="picker-swatch" data-color="#008080" style="background:#008080" title="Teal"></button>
          <button class="picker-swatch" data-color="#0000FF" style="background:#0000FF" title="Blue"></button>
          <button class="picker-swatch" data-color="#000080" style="background:#000080" title="Navy"></button>
          <button class="picker-swatch" data-color="#FF00FF" style="background:#FF00FF" title="Fuchsia"></button>
          <button class="picker-swatch" data-color="#800080" style="background:#800080" title="Purple"></button>
          <button class="picker-swatch" data-color="#FFFFFF" style="background:#FFFFFF" title="White"></button>
          <button class="picker-swatch" data-color="#C0C0C0" style="background:#C0C0C0" title="Silver"></button>
          <button class="picker-swatch" data-color="#808080" style="background:#808080" title="Gray"></button>
          <!-- Additional colors -->
          <button class="picker-swatch" data-color="#FFB3BA" style="background:#FFB3BA" title="Light Pink"></button>
          <button class="picker-swatch" data-color="#FFDFBA" style="background:#FFDFBA" title="Peach"></button>
          <button class="picker-swatch" data-color="#FFFFBA" style="background:#FFFFBA" title="Light Yellow"></button>
          <button class="picker-swatch" data-color="#BAFFC9" style="background:#BAFFC9" title="Mint"></button>
          <button class="picker-swatch" data-color="#BAE1FF" style="background:#BAE1FF" title="Light Blue"></button>
          <button class="picker-swatch" data-color="#FF6B9D" style="background:#FF6B9D" title="Hot Pink"></button>
          <button class="picker-swatch" data-color="#FFA500" style="background:#FFA500" title="Orange"></button>
          <button class="picker-swatch" data-color="#FFD700" style="background:#FFD700" title="Gold"></button>
          <button class="picker-swatch" data-color="#32CD32" style="background:#32CD32" title="Lime Green"></button>
          <button class="picker-swatch" data-color="#1E90FF" style="background:#1E90FF" title="Dodger Blue"></button>
          <button class="picker-swatch" data-color="#8B4513" style="background:#8B4513" title="Brown"></button>
          <button class="picker-swatch" data-color="#DC143C" style="background:#DC143C" title="Crimson"></button>
          <button class="picker-swatch" data-color="#FF1493" style="background:#FF1493" title="Deep Pink"></button>
          <button class="picker-swatch" data-color="#4B0082" style="background:#4B0082" title="Indigo"></button>
          <button class="picker-swatch" data-color="#000000" style="background:#000000" title="Black"></button>
        </div>
        <button class="glass-btn" id="color-picker-close">Done</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
